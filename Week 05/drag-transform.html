<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag</title>
</head>
<body>
    <div id="drag" style="width:100px;height:100px;background-color:pink"></div>

    <script>
        let drag = document.getElementById('drag')

        // drag开始位置
        let baseX = 0, baseY = 0

        drag.addEventListener('mousedown', event => {
            // 鼠标开始位置
            let startX = event.clientX, startY = event.clientY

            let up = event => {
                // 记住中间位置
                baseX = baseX + event.clientX - startX
                baseY = baseY + event.clientY - startY

                document.removeEventListener('mousemove', move)
                document.removeEventListener('mouseup', up)
            }
            let move = event => {
                drag.style.transform = `translate(${baseX + event.clientX - startX}px, ${baseY + event.clientY - startY}px)`
            }

            document.addEventListener('mousemove', move)
            document.addEventListener('mouseup', up)
        })
    </script>
</body>
</html>